(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{182:function(t,e,n){"use strict";n(110),n(58);var r=n(183),o=n(184),l=n(74),c=n.n(l),v="https://anthive.io/",f=function(){function t(){Object(r.a)(this,t)}return Object(o.a)(t,null,[{key:"getUserdata",value:function(t){var e=this;return c.a.create({baseURL:"https://api.github.com/",timeout:3e3}).get("users/"+t).then((function(n){var r=n.data;return{name:null!=r.name?r.name:t,avatar:e.photoUrl(t,250),company:r.company,location:r.location,blog:""!=r.blog?r.blog:null}})).catch((function(n){if(404==n.response.status)return{name:t,avatar:e.photoUrl(t,250),company:null,location:null,blog:null}}))}},{key:"photoUrl",value:function(t,e){return t.startsWith("sample-")?this.langUrl(t.substring(7)):"https://github.com/"+t+".png?size="+e}},{key:"langUrl",value:function(t){return v+"skins/lang/"+t+".png"}},{key:"antUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?v+"skins/client/"+t+"/antBig.png":v+"skins/client/"+t+"/ant.png"}},{key:"hiveUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?v+"skins/client/"+t+"/hiveBig.png":v+"skins/client/"+t+"/hive.png"}},{key:"scoreString",value:function(t){var e=Math.floor(((""+t).length-1)/3);return parseFloat((0!=e?t/Math.pow(1e3,e):t).toPrecision(2))+["","K","M","B","t"][e]}},{key:"timeAgo",value:function(t){var e=Math.round(new Date)-t,n=2592e6,r=6048e5,o=864e5,l=36e5,c=6e4,v=1e3;return e>n?Math.floor(e/n)+"m ago":e>r?Math.floor(e/r)+"w ago":e>o?Math.floor(e/o)+"d ago":e>l?Math.floor(e/l)+"h ago":e>c?Math.floor(e/c)+"m ago":e>v?Math.floor(e/v)+"s ago":"Just now"}}]),t}();e.a=f},183:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},184:function(t,e,n){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return o}))},185:function(t,e,n){"use strict";var r=n(3),o=n(17),l=n(23),c=n(111),v=n(59),f=n(11),h=n(42).f,d=n(60).f,y=n(10).f,_=n(188).trim,m=r.Number,x=m,w=m.prototype,k="Number"==l(n(75)(w)),C="trim"in String.prototype,S=function(t){var e=v(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,l=(e=C?e.trim():_(e,3)).charCodeAt(0);if(43===l||45===l){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===l){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var code,c=e.slice(2),i=0,f=c.length;i<f;i++)if((code=c.charCodeAt(i))<48||code>o)return NaN;return parseInt(c,r)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof m&&(k?f((function(){w.valueOf.call(n)})):"Number"!=l(n))?c(new x(S(e)),n,m):S(e)};for(var A,N=n(9)?h(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;N.length>I;I++)o(x,A=N[I])&&!o(m,A)&&y(m,A,d(x,A));m.prototype=w,w.constructor=m,n(12)(r,"Number",m)}},188:function(t,e,n){var r=n(8),o=n(22),l=n(11),c=n(189),v="["+c+"]",f=RegExp("^"+v+v+"*"),h=RegExp(v+v+"*$"),d=function(t,e,n){var o={},v=l((function(){return!!c[t]()||"​"!="​"[t]()})),f=o[t]=v?e(y):c[t];n&&(o[n]=f),r(r.P+r.F*v,"String",o)},y=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(f,"")),2&e&&(t=t.replace(h,"")),t};t.exports=d},189:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},191:function(t,e,n){var content=n(205);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(31).default)("d42d55e2",content,!0,{sourceMap:!1})},192:function(t,e,n){var content=n(207);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(31).default)("6824e689",content,!0,{sourceMap:!1})},204:function(t,e,n){"use strict";var r=n(191);n.n(r).a},205:function(t,e,n){(t.exports=n(30)(!1)).push([t.i,".user-info-full{display:inline-block;border-radius:5px;overflow:hidden}.user-info-full__meta-item-title{display:inline-block;width:50px;margin-right:5px}",""])},206:function(t,e,n){"use strict";var r=n(192);n.n(r).a},207:function(t,e,n){(t.exports=n(30)(!1)).push([t.i,"#player{background-repeat:repeat}.players{margin-top:100px}.game__vs-separator{position:relative;top:-80px}.player__section{position:relative}.player__actions{position:absolute;bottom:0;width:100%;min-width:480px;background:rgba(0,0,0,.3);z-index:10}.player__progress{width:100%}.v-btn--disabled{background:hsla(0,0%,100%,.2)}.v-btn--disabled>.v-btn__content{color:hsla(0,0%,100%,.8)}.player__wrap{position:absolute;top:0;left:0;width:100%;height:100%}.bot-info__title{width:50px}.bot-info__data{display:inline-block;width:60px;text-align:center}",""])},221:function(t,e,n){"use strict";n.r(e);n(185);var r=n(182),o={name:"usesrInfo",props:{username:String,lang:String,version:String,skin:Number,score:Number,span:Array,stats:Object},data:function(){return{us:r.a}},created:function(){}},l=(n(204),n(6)),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-info-full mb-3 elevation-1"},[n("v-card",{attrs:{to:{path:"/user/?username="+t.username}}},[n("v-layout",{attrs:{row:""}},[n("v-layout",{attrs:{column:""}},[n("v-layout",{attrs:{row:""}},[n("v-avatar",{attrs:{size:"100",tile:""}},[n("v-img",{staticClass:"grey lighten-4",attrs:{src:t.us.photoUrl(t.username,100)}},[n("v-layout",{attrs:{"fill-height":"","align-end":"",left:""}},[n("v-flex",{attrs:{xs12:"",flexbox:""}},[n("v-avatar",{attrs:{size:"30",tile:""}},[n("v-img",{attrs:{src:t.us.langUrl(t.lang)}})],1)],1)],1),n("v-layout",{attrs:{"fill-height":"","align-end":"",right:""}},[n("v-flex",{attrs:{xs12:"",flexbox:""}},[n("v-avatar",{staticClass:"grey lighten-4",attrs:{size:"30",tile:""}},[n("v-card-text",{staticClass:"pa-0 lighten-4"},[t._v("v."+t._s(t.version))])],1)],1)],1)],1)],1),n("v-avatar",{attrs:{size:"100",tile:""}},[n("v-img",{attrs:{src:t.us.hiveUrl(t.skin,!0)}},[n("v-layout",{attrs:{"fill-height":"","align-end":""}},[n("v-flex",{attrs:{xs12:"",flexbox:""}},[n("v-avatar",{attrs:{size:"70",tile:""}},[n("v-img",{attrs:{src:t.us.antUrl(t.skin,!0)}})],1)],1)],1)],1)],1)],1),n("v-layout",{attrs:{row:""}},[n("v-card-text",{staticClass:"py-2 font-weight-bold"},[t._v(t._s(t.username))])],1)],1),n("v-flex",{staticClass:"text-xs-left"},[n("v-card-text",{staticClass:"pt-1 pb-0 grey--text text--darken-2 caption text-xs-center"},[t._v("Bot info")]),n("v-card-text",{staticClass:"py-0 caption"},[n("span",{staticClass:"user-info-full__meta-item-title"},[t._v("Span:")]),n("span",[t._v("Y"+t._s(t.span[0])+", X"+t._s(t.span[1]))])]),n("v-card-text",{staticClass:"py-0 caption"},[n("span",{staticClass:"user-info-full__meta-item-title"},[t._v("Ticks:")]),n("span",[t._v(t._s(t.stats.Age))])]),n("v-card-text",{staticClass:"py-0 caption"},[n("span",{staticClass:"user-info-full__meta-item-title"},[t._v("Ants:")]),n("span",[t._v(t._s(t.stats.Ants))])]),n("v-card-text",{staticClass:"py-0 caption"},[n("span",{staticClass:"user-info-full__meta-item-title"},[t._v("HiveSize:")]),n("span",[t._v(t._s(t.stats.Hive))])]),n("v-card-text",{staticClass:"py-0 caption"},[n("span",{staticClass:"user-info-full__meta-item-title"},[t._v("Errors:")]),n("span",[t._v(t._s(t.stats.Errors))])]),n("v-card-text",{staticClass:"py-0 caption"},[n("span",{staticClass:"user-info-full__meta-item-title"},[t._v("Earned:")]),n("span",{staticClass:"font-weight-bold"},[t._v(t._s(t.score))])])],1)],1)],1)],1)}),[],!1,null,null,null).exports,v=null,f={data:function(){return{status:"Loading...",theme:1,players:[],totalTicks:0,currentTick:0,percentTick:0,currentSpeed:4,isPlaying:!0,showActionsState:!1}},components:{userInfoFull:c},mounted:function(){var t=this,e=this.$route.query.id||"",n="https://storage.googleapis.com/anthive-prod-games/"+(this.$route.query.v||"")+"/"+e+".zip";null!=n?((v=new AnthivePlayer(n,"#player")).on(AnthivePlayer.onReady,(function(){t.totalTicks=v.total,t.players=v.players,t.theme=v.theme;var e=20*v.size.width+"px";t.$refs.playerWrap.style.minWidth=e,t.$refs.playerActions.style.width=e})),v.on(AnthivePlayer.onFrameRendered,(function(){t.currentTick=v.currentIndex+1,t.percentTick=t.currentTick/t.totalTicks*100}))):this.status="Can't find game."},methods:{showActions:function(){this.showActionsState=!this.showActionsState},navigate:function(t){this.isPlaying=!1,"prev"==t?v.prev():v.next()},playPause:function(){this.isPlaying?(v.pause(),this.isPlaying=!1,this.$refs.playerWrap.style.backgroundColor="rgba(0, 0, 0, .3)"):(v.play(),this.isPlaying=!0,this.$refs.playerWrap.style.backgroundColor="transparent")},setSpeed:function(t){this.currentSpeed=t,v.speed=t}}},h=(n(206),Object(l.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("v-layout",{staticStyle:{overflow:"scroll"},attrs:{column:"","align-center":""}},[n("v-flex",{staticClass:"players mx-4 px-5 text-xs-center",attrs:{xs12:"",md8:"",lg8:""}},[t._l(t.players,(function(e,r){return[n("userInfoFull",{attrs:{username:e.Username,lang:e.Lang,version:e.Version,skin:e.Skin,score:e.Wealth,span:[e.Y,e.X],stats:e.Stats}}),r+1<t.players.length?n("span",{staticClass:"game__vs-separator mx-4"},[t._v("VS")]):t._e()]}))],2),n("v-flex",{staticClass:"player__section"},[n("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.showActionsState,expression:"showActionsState"}],ref:"playerActions",staticClass:"player__actions",attrs:{wrap:""},on:{mouseover:function(e){t.showActionsState=!0},mouseleave:function(e){t.showActionsState=!1}}},[n("v-layout",{staticClass:"player__progress"},[n("v-progress-linear",{staticClass:"my-0",attrs:{height:"5",color:"warning",value:t.percentTick}})],1),t.players.length>0?n("v-toolbar",{staticClass:"transparent",attrs:{flat:""}},[n("v-toolbar-items",[n("v-btn",{attrs:{title:"Previous",icon:""},on:{click:function(e){return t.navigate("prev")}}},[n("v-icon",{staticClass:"white--text"},[t._v("skip_previous")])],1),n("v-btn",{attrs:{title:t.isPlaying?"pause":"play",icon:""},on:{click:function(e){return t.playPause()}}},[n("v-icon",{staticClass:"white--text"},[t._v(t._s(t.isPlaying?"pause":"play_arrow"))])],1),n("v-btn",{attrs:{title:"Next",icon:""},on:{click:function(e){return t.navigate("next")}}},[n("v-icon",{staticClass:"white--text"},[t._v("skip_next")])],1)],1),n("v-toolbar-title",{staticClass:"body-2 white--text"},[t._v(t._s(t.currentTick)+" / "+t._s(t.totalTicks))]),n("v-spacer"),n("v-toolbar-title",{staticClass:"body-2"},[n("v-icon",{staticClass:"white--text"},[t._v("fast_forward")])],1),n("v-toolbar-items",[n("v-btn",{staticClass:"white--text",attrs:{title:"Speed 1x",disabled:1==t.currentSpeed,icon:""},on:{click:function(e){return t.setSpeed(1)}}},[t._v("1x")]),n("v-btn",{staticClass:"white--text",attrs:{title:"Speed 2x",disabled:2==t.currentSpeed,icon:""},on:{click:function(e){return t.setSpeed(2)}}},[t._v("2x")]),n("v-btn",{staticClass:"white--text",attrs:{"active-class":"btn-disabled",title:"Speed 4x",disabled:4==t.currentSpeed,icon:""},on:{click:function(e){return t.setSpeed(4)}}},[t._v("4x")])],1)],1):t._e()],1),n("v-layout",{ref:"playerWrap",staticClass:"player__wrap",on:{click:function(e){return t.playPause()},mouseover:function(e){t.showActionsState=!0},mouseleave:function(e){t.showActionsState=!1}}}),n("div",{style:{background:"#ccc url(/skins/server/"+t.theme+"/background.png)"},attrs:{id:"player"}},[n("h2",{staticClass:"px-2 white--text loading"},[t._v(t._s(t.status))])])],1)],1)],1)}),[],!1,null,null,null));e.default=h.exports}}]);