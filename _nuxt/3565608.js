(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1319:function(t,e,r){"use strict";r.r(e);r(19);var n=r(4),o=r(397),l=r(61),c=r(386),d=r(381),h=r(383),f={head:function(){return{title:this.$t("leaderboard.meta.title"),meta:[{name:"description",content:this.$t("leaderboard.meta.description")}]}},name:"Leaderboard",components:{AntHiveIcon:l.a,AntHivePageHeader:c.a},mixins:[d.a,h.a],data:function(){return{langs:[],users:null,enoughLoadLeaders:!1,pageSize:20,searchParams:{},headers:[{text:"",value:"avatar"},{text:this.$t("leaderboard.name"),value:"username"},{text:this.$t("leaderboard.games"),value:"games"},{text:this.$t("leaderboard.score"),value:"score"},{text:this.$t("leaderboard.rank"),value:"rank"}]}},fetch:function(){0},mounted:function(){this.searchParams={p:0,pp:this.pageSize},this.users=[],this.fetchUsers(),this.$gtag("event","leaderboard_users")},methods:{fetchUsers:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.enoughLoadLeaders=!0,e.next=3,Object(o.b)(t.searchParams);case 3:(r=e.sent).length&&(t.searchParams.p+=1,t.users=t.users.concat(r),t.enoughLoadLeaders=!1);case 5:case"end":return e.stop()}}),e)})))()}}},v=(r(833),r(835),r(6)),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"leaderboard page-wrap"},[r("v-container",[r("div",{staticClass:"header"},[r("AntHivePageHeader",{attrs:{title:t.$t("leaderboard.title"),"tooltip-text":t.$t("leaderboard.description")}})],1),t._v(" "),r("AntHiveButton",{staticClass:"button",attrs:{to:t.localePath("/leaderboard/bots"),tile:"",color:"#cdcad5"}},[t._v(t._s(t.$t("leaderboard.bots")))]),t._v(" "),r("AntHiveButton",{staticClass:"button",attrs:{to:t.localePath("/leaderboard/users"),tile:"",color:"white"}},[r("span",{staticClass:"primary--text"},[t._v(t._s(t.$t("leaderboard.users")))])]),t._v(" "),r("div",{staticClass:"overflow-hidden"},[r("client-only",[r("v-data-table",{staticClass:"users-table",attrs:{headers:t.headers,items:t.users,"disable-pagination":"","sort-by":"rank","sort-desc":"","hide-default-footer":""},scopedSlots:t._u([{key:"item.avatar",fn:function(e){var n=e.item;return[r("v-avatar",{staticClass:"avatar",attrs:{tile:""}},[r("v-img",{attrs:{src:t.getUserAvatar(n,240)}})],1)]}},{key:"item.score",fn:function(e){var r=e.item;return[t._v("\n            "+t._s(t.getNumberTruncated(r.score))+"\n          ")]}}],null,!0)})],1),t._v(" "),t.users&&t.users.length>=t.pageSize?r("infinite-scroll",{attrs:{enough:t.enoughLoadLeaders},on:{"load-more":t.fetchUsers}}):t._e(),t._v(" "),t.users?t._e():t._l(8,(function(t){return r("v-skeleton-loader",{key:t+"skeleton",staticClass:"skeleton",attrs:{tile:"",width:"100%",height:"120px",elevation:"2",type:"list-item-avatar-three-line"}})}))],2)],1)],1)}),[],!1,null,"32b883d2",null);e.default=component.exports},381:function(t,e,r){"use strict";var n=r(111),o={methods:{getBotAvatar:function(t,e){return t&&t.avatar?Object(n.a)(t.avatar,e):"/img/default-bot-avatar.png"},getUserAvatar:function(t,e){return t&&t.avatar?Object(n.a)(t.avatar,e):"/img/default-user-avatar.png"},getBotAuthorAvatar:function(t,e){return t&&t.userAvatar?Object(n.a)(t.userAvatar,e):"/img/default-user-avatar.png"},getUserBackgroundImage:function(t,e,r){return t&&Object(n.a)(t,e,r)},getLangImg:function(t){return t&&"/skins/lang/".concat(t,".png")},getAntSkinImg:function(t){return t&&"/skins/client/".concat(t,"/ant.png")},getHiveSkinImg:function(t){return t&&"/skins/client/".concat(t,"/hive.png")}}};e.a=o},382:function(t,e,r){var content=r(394);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("194aeac0",content,!0,{sourceMap:!1})},383:function(t,e,r){"use strict";var n={methods:{getStringTruncated:function(t,e){return t.length>e?"".concat(t.substr(0,e-1),"..."):t},getNumberTruncated:function(t){return t<1e3?t:t<1e6?"".concat(Math.floor(t/10)/100,"K"):"".concat(Math.floor(t/1e4)/100,"M")}}};e.a=n},385:function(t,e,r){"use strict";var n=r(49),o=r.n(n).a.create({baseURL:"".concat("https://api.anthive.io","/public"),timeout:15e3});e.a=o},386:function(t,e,r){"use strict";var n={name:"AntHivePageHeader",components:{AntHiveIcon:r(61).a},props:{title:{type:String,required:!0},subtitle:{type:String,required:!1,default:""},tooltipText:{type:String,required:!1,default:""}}},o=(r(393),r(6)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"page-header"},[r("h1",{staticClass:"page-header__title"},[t._v(t._s(t.title))]),t._v(" "),t.subtitle?r("p",{staticClass:"page-header__subtitle"},[t._v(t._s(t.subtitle))]):t._e(),t._v(" "),t.tooltipText?r("div",{staticClass:"page-header__info"},[r("v-tooltip",{attrs:{right:"","nudge-left":"",color:"accent","content-class":"b-radius-0"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("div",t._g({},n),[r("AntHiveIcon",{staticClass:"ml-1",attrs:{icon:"alert-circle",small:"",color:"#4c377f"}})],1)]}}],null,!1,3554724775)},[t._v("\n      "+t._s(t.tooltipText)+"\n    ")])],1):t._e()])}),[],!1,null,"8fa44b42",null);e.a=component.exports},393:function(t,e,r){"use strict";var n=r(382);r.n(n).a},394:function(t,e,r){(e=r(12)(!1)).push([t.i,".page-header[data-v-8fa44b42]{position:relative;display:inline-block}.page-header__subtitle[data-v-8fa44b42]{color:#4d3780;font-weight:400}.page-header__info[data-v-8fa44b42]{position:absolute;top:-5px;right:-26px}",""]),t.exports=e},397:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"c",(function(){return d})),r.d(e,"b",(function(){return h}));r(19);var n=r(4);function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=r(385),c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Username="",this.Lang="",this.Version="",this.Games="",this.Wealth="",this.Wg="",this.Skin="",this.Stats={},this.TotalGames=0,this.TotalWealth=0}var e,r,n;return e=t,(r=[{key:"initUser",value:function(t){this.Username=t.username,this.Lang=t.lang,this.Version=t.version,this.Games=t.games,this.Wealth=t.wealth,this.Wg=t.wg,this.Skin=t.skin,this.Stats=t.stats,this.TotalGames=t.totalgames,this.TotalWealth=t.totalwealth}},{key:"getUserData",value:function(t){if(this.Username=t,""!==this.Username&&void 0!==this.Username)return l.a.get("/user?username=".concat(this.Username)).then((function(t){return t.data}))}},{key:"scoreString",value:function(){var t=Math.floor(((""+this.Wealth).length-1)/3);return parseFloat((0!==t?this.Wealth/Math.pow(1e3,t):this.Wealth).toPrecision(2))+["","K","M","B","t"][t]}}])&&o(e.prototype,r),n&&o(e,n),t}();function d(t){var e=Math.round(new Date/1e3)-t,r=2592e3,n=604800,o=86400,l=3600,c=60,d=1e3;return e>r?{time:Math.floor(e/r),text:"monthsAgo"}:e>n?{time:Math.floor(e/n),text:"weeksAgo"}:e>o?{time:Math.floor(e/o),text:"daysAgo"}:e>l?{time:Math.floor(e/l),text:"hoursAgo"}:e>c?{time:Math.floor(e/c),text:"minutesAgo"}:e>d?{time:Math.floor(e/d),text:"secondsAgo"}:{time:null,text:"justNow"}}var h=function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e){var r,data,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.get("/leaderboard/users",{params:e});case 3:return r=t.sent,data=r.data,t.abrupt("return",data);case 8:if(t.prev=8,t.t0=t.catch(0),!((n=t.t0.response)&&n.data&&n.data.error)){t.next=13;break}return t.abrupt("return",null);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},431:function(t,e,r){var content=r(834);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("2aa2d16f",content,!0,{sourceMap:!1})},432:function(t,e,r){var content=r(836);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("3f4a977f",content,!0,{sourceMap:!1})},833:function(t,e,r){"use strict";var n=r(431);r.n(n).a},834:function(t,e,r){(e=r(12)(!1)).push([t.i,'@media screen and (min-width:600px){.leaderboard .users-table{margin-left:-16px}}.leaderboard .users-table .text-start.sortable{font-weight:600;font-size:14px}.leaderboard .users-table .text-start.sortable>span{word-break:normal!important}.leaderboard .users-table .text-start.active{text-shadow:0 0 1px #4d3780,0 0 1px #4d3780;color:#4d3780!important}.leaderboard .users-table .text-start.active.asc>span:after{position:absolute;content:"⬇"}.leaderboard .users-table .text-start.active.desc>span:after{position:absolute;content:"⬆"}',""]),t.exports=e},835:function(t,e,r){"use strict";var n=r(432);r.n(n).a},836:function(t,e,r){(e=r(12)(!1)).push([t.i,".leaderboard[data-v-32b883d2]{padding:40px 0}.leaderboard .header[data-v-32b883d2]{display:flex;margin-bottom:38px}.leaderboard .skeleton[data-v-32b883d2]{background-color:#fff;padding-top:20px}@media screen and (min-width:600px){.leaderboard .avatar[data-v-32b883d2]{width:120px!important;height:120px!important}}",""]),t.exports=e}}]);