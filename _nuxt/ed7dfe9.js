(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1146:function(t,e,n){"use strict";n.r(e);n(15);var r=n(3),o=n(283),l={name:"GamePlayer",components:{AntHiveIcon:n(60).a},props:{isGameEnd:Boolean},computed:{currentUrl:function(){return"https://anthive.io".concat(this.$route.fullPath)},currentEncudeUrl:function(){return encodeURIComponent(this.currentUrl)},gameId:function(){return this.$route.query.id},getRematchUrl:function(){return"".concat("https://profile.anthive.io","/new-game/?rematch=").concat(this.gameId)}},methods:{copyToClipboard:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$copyText(t.currentUrl);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}}},c=(n(638),n(11)),m=Object(c.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-col",{staticClass:"pa-0 player__section",attrs:{cols:"auto"}},[n("div",{ref:"playerWrap",staticClass:"player__wrap",on:{click:function(e){return t.playPause()},mouseover:function(e){t.showActionsState=!0},mouseleave:function(e){t.showActionsState=!1}}}),t._v(" "),n("div",{attrs:{id:"player"}},[n("h2",{staticClass:"px-2 white--text loading"},[t._v(t._s(t.$t("game.loading")))])]),t._v(" "),n("v-slide-y-transition",[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isGameEnd,expression:"isGameEnd"}],staticClass:"end-game-layout"},[n("div",{staticClass:"layout-buttons"},[n("v-btn",{staticClass:"layout-button mb-6",attrs:{color:"#00BF70",dark:"",block:"",href:t.getRematchUrl}},[t._v(t._s(t.$t("game.requestRematch")))]),t._v(" "),n("v-btn",{staticClass:"layout-button",attrs:{color:"#333333",dark:"",block:""},on:{click:function(e){return t.$emit("replay")}}},[t._v(t._s(t.$t("game.replay"))+"\n          "),n("AntHiveIcon",{staticClass:"ml-1",attrs:{color:"white"}},[t._v("autorenew")])],1),t._v(" "),n("div",{staticClass:"social-share"},[n("p",[t._v(t._s(t.$t("game.shareGame")))]),t._v(" "),n("div",{staticClass:"d-flex justify-center"},[n("v-tooltip",{attrs:{bottom:"",color:"accent","content-class":"b-radius-0"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"share-button",attrs:{fab:"",dark:"",color:"#333333",target:"_blank",rel:"noreferrer",href:"https://www.linkedin.com/shareArticle?mini=true&url="+t.currentEncudeUrl+"&title=Anthive.io game"}},r),[n("AntHiveIcon",{attrs:{color:"grey"}},[t._v("linkedin")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("game.shareOn"))+" Linkedin")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:"",color:"accent","content-class":"b-radius-0"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"share-button",attrs:{fab:"",dark:"",color:"#333333",target:"_blank",rel:"noreferrer",href:"https://www.facebook.com/sharer/sharer.php?u="+t.currentEncudeUrl}},r),[n("AntHiveIcon",{attrs:{color:"grey"}},[t._v("facebook")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("game.shareOn"))+" Facebook")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:"",color:"accent","content-class":"b-radius-0"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"share-button",attrs:{fab:"",dark:"",color:"#333333",target:"_blank",rel:"noreferrer",href:"https://twitter.com/share?url=/&text=Anthive.io Game - "+t.currentEncudeUrl}},r),[n("AntHiveIcon",{attrs:{color:"grey"}},[t._v("twitter")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("game.shareOn"))+" Twitter")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:"",color:"accent","content-class":"b-radius-0"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"share-button",attrs:{fab:"",dark:"",color:"#333333",target:"_blank",rel:"noreferrer",href:"mailto:?subject=Anthive.io&body=Game - "+t.currentEncudeUrl}},r),[n("AntHiveIcon",{attrs:{color:"grey"}},[t._v("email")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("game.sendBy"))+" Email")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:"",color:"accent","content-class":"b-radius-0"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[n("v-btn",t._g({staticClass:"share-button",attrs:{fab:"",dark:"",color:"#333333"},on:{click:function(e){return t.copyToClipboard()}}},r),[n("AntHiveIcon",{attrs:{color:"grey"}},[t._v("file-document-box-multiple")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("game.copyUrl")))])])],1)])],1)])])],1)}),[],!1,null,"59465bb6",null).exports,v=n(282),d=n(249),h={head:function(){return{title:this.$t("game.meta.title"),meta:[{name:"description",content:this.$t("game.meta.description")}]}},data:function(){return{isGameAvailable:!0,theme:1,players:[],isGameEnd:!1,gameLoaded:!1,gameId:"",gamePlayer:null,timerId:null}},components:{AntHiveBotHorizontal:o.a,GamePlayer:m,GamesTable:v.a,AntHivePageHeader:d.a},watch:{$route:function(){this.gamePlayerDestroy(),this.fetchGame()}},mounted:function(){this.fetchGame()},methods:{fetchGame:function(){var t=this;Promise.all([n.e(3),n.e(4)]).then(n.t.bind(null,1144,7)).then((function(){t.gameId=t.$route.query.id||"";var e=t.$route.query.v||"",n="".concat("https://storage.googleapis.com/anthive-prod-games","/").concat(e,"/").concat(t.gameId,".zip");if(t.isGameFound(n)){t.gamePlayer=new AnthivePlayer("#player",n),t.gamePlayer.on(AnthivePlayer.event.READY,Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.gameLoaded=!0;case 1:case"end":return e.stop()}}),e)})))),t.gamePlayer.on(AnthivePlayer.event.END,(function(){t.isGameEnd=!0}));var o=[];t.timerId=setInterval((function(){return t.players=o}),1e3),t.gamePlayer.on(AnthivePlayer.event.TICK,(function(data){o=data.bots||[]}))}else t.isGameAvailable=!1,t.$ga.event({eventCategory:"game",eventAction:"notfound",eventValue:t.gameId})}))},gamePlayerDestroy:function(){this.gamePlayer&&(this.players=[],this.gamePlayer.removeAllListeners(),this.gamePlayer.container.innerHTML="",this.gamePlayer=null),this.timerId&&clearInterval(this.timerId)},getAvatar:function(t){return"".concat("https://api.anthive.io","/images/").concat(t,"/100/100")},isGameFound:function(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),404!==e.status},replay:function(){this.gamePlayer.control.frame=0,this.gamePlayer.control.play(),this.isGameEnd=!1},compare:function(a,b){return a.Wealth<b.Wealth?1:a.Wealth>b.Wealth?-1:0},showActions:function(){this.showActionsState=!this.showActionsState}},destroyed:function(){this.gamePlayerDestroy()}},f=(n(646),n(648),Object(c.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"game page-wrap"},[n("v-container",[t.isGameAvailable?[n("div",{staticClass:"mx-auto"},[n("AntHivePageHeader",{attrs:{title:t.$t("game.game")+" #"+t.gameId,"tooltip-text":t.$t("game.gameId")}})],1),t._v(" "),n("v-row",{staticClass:"mx-auto"},[n("v-col",{staticClass:"player-zone__wrap",attrs:{cols:"12",md:"8"}},[n("GamePlayer",{attrs:{"is-game-end":t.isGameEnd},on:{replay:t.replay}})],1),t._v(" "),n("v-col",{staticClass:"game__players-section",attrs:{cols:"12",md:"4"}},[n("transition-group",{attrs:{name:"flip-list",tag:"div"}},t._l(t.players,(function(t,e){return n("AntHiveBotHorizontal",{key:t.id,staticClass:"my-2",attrs:{player:t,number:e+1}})})),1)],1)],1),t._v(" "),n("h3",{staticClass:"mt-10 mb-0"},[t._v(t._s(t.$t("game.moreGames"))+":")]),t._v(" "),n("GamesTable",{attrs:{"games-limit":5}})]:n("div",{staticClass:"game__game-not-found"},[n("h2",{staticClass:"mb-10"},[t._v(t._s(t.$t("game.cantFindGame"))+" #"+t._s(t.gameId))]),t._v(" "),n("p",[t._v(t._s(t.$t("game.checkOut")))]),t._v(" "),n("div",{staticClass:"game_games-links"},[n("a",{attrs:{href:t.localePath("game")+"?id=1596089763&v=4.0"}},[n("img",{staticClass:"game__game-image",attrs:{src:"/img/game1.png",alt:"game"}})]),t._v(" "),n("a",{attrs:{href:t.localePath("game")+"?id=1596616511&v=4.0"}},[n("img",{staticClass:"game__game-image",attrs:{src:"/img/game2.png",alt:"game"}})]),t._v(" "),n("a",{attrs:{href:t.localePath("game")+"?id=1596039187&v=4.0"}},[n("img",{staticClass:"game__game-image",attrs:{src:"/img/game3.png",alt:"game"}})])]),t._v(" "),n("a",{staticClass:"game__link",attrs:{href:t.localePath("games")}},[t._v(t._s(t.$t("game.goToGames")))])])],2)],1)}),[],!1,null,"c578510a",null));e.default=f.exports},254:function(t,e,n){var content=n(639);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("6f83e2a0",content,!0,{sourceMap:!1})},259:function(t,e,n){var content=n(647);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("6824e689",content,!0,{sourceMap:!1})},260:function(t,e,n){var content=n(649);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("14721f38",content,!0,{sourceMap:!1})},638:function(t,e,n){"use strict";var r=n(254);n.n(r).a},639:function(t,e,n){(e=n(13)(!1)).push([t.i,"#player[data-v-59465bb6]{background-repeat:repeat;position:relative}.game__vs-separator[data-v-59465bb6]{position:relative;top:-80px}.player__section[data-v-59465bb6]{margin-top:8px;position:relative}.v-btn--disabled[data-v-59465bb6]{background:hsla(0,0%,100%,.2)}.v-btn--disabled>.v-btn__content[data-v-59465bb6]{color:hsla(0,0%,100%,.8)}.end-game-layout[data-v-59465bb6],.player__wrap[data-v-59465bb6]{position:absolute;top:0;left:0;height:100%}.end-game-layout[data-v-59465bb6]{width:100%;background-color:rgba(0,0,0,.88);justify-content:flex-end}.end-game-layout[data-v-59465bb6],.layout-buttons[data-v-59465bb6]{display:flex;flex-direction:column}.layout-buttons[data-v-59465bb6]{padding:10px;width:60%;height:80%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;justify-content:center}.layout-button[data-v-59465bb6]{max-height:72px!important;text-transform:none;font-weight:600;font-size:24px!important;letter-spacing:1px}.social-share[data-v-59465bb6]{margin-top:10%;text-align:center;font-size:16px}.share-button[data-v-59465bb6]{margin:0 12px}@media screen and (max-width:1264px){.layout-button[data-v-59465bb6]{max-height:46px!important;font-size:14px!important;letter-spacing:1px}.social-share[data-v-59465bb6]{margin-top:15px;font-size:12px}.social-share p[data-v-59465bb6]{margin-bottom:5px}.share-button[data-v-59465bb6]{height:35px;width:35px}}",""]),t.exports=e},646:function(t,e,n){"use strict";var r=n(259);n.n(r).a},647:function(t,e,n){(e=n(13)(!1)).push([t.i,".v-content__wrap{background:#fff}.player-zone__wrap{width:100%;padding:10px 0 0}",""]),t.exports=e},648:function(t,e,n){"use strict";var r=n(260);n.n(r).a},649:function(t,e,n){(e=n(13)(!1)).push([t.i,".game[data-v-c578510a]{height:100%;overflow-x:hidden}.game__game-not-found[data-v-c578510a]{width:100%;text-align:center;color:#fff;position:absolute;top:40%;left:50%;transform:translate(-50%,-50%)}.game__game-image[data-v-c578510a]{margin:0 5px;border:2px solid #9d2747;transform:scale(.98);transition:.2s}.game__game-image[data-v-c578510a]:hover{transform:scale(1.02)}.game__link[data-v-c578510a]{display:inline-block;color:#fff;text-decoration:underline;margin-top:10px}.game__link[data-v-c578510a]:hover{text-decoration:none!important}.game .flip-list-move[data-v-c578510a]{transition:transform .5s}.game .flip-list-enter-active[data-v-c578510a],.game .flip-list-leave-active[data-v-c578510a]{transition:all .8s}.game .flip-list-enter[data-v-c578510a],.game .flip-list-leave-to[data-v-c578510a]{transform:translateX(100px);opacity:0}",""]),t.exports=e}}]);